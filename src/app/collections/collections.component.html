<div class="container mt-3 text-center pl-0 pr-0">
<div align="center">

  <h1>Select a Collection Below</h1>

  <div class="btn-group mb-5">
    <button type="button" class="btn btn-info dropdown-toggle w-100" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {{selectedCollection}}
    </button>
    <div class="dropdown-menu">
      <a class="dropdown-item" *ngFor="let collection of collections" (click)="setCollection(collection)">{{collection.collectionName}}</a>
    </div>
  </div>
  <div class="container overflow-hidden">
    <div class="row mb-5">
  <div *ngFor="let image of images" class="card promoting-card col-sm-4 pl-0 pr-0 mb-4">
    <!-- Card content -->
    <div class="card-body d-flex flex-row pl-2 pr-2 pt-2 pb-0">
      <div class="col w-100">
      <!-- Content -->
      <div class="row w-100 m-0 p-0">
        <!-- Title -->
        <div class="col w-100 pl-0" align="left">
          <h4 class="card-title font-weight-bold m-0">{{image.caption}}</h4>
        </div>
        </div>
        <div class="row w-100 m-0 p-0" *ngIf="image.collections">
          <h3 class="mb-1">
            <small class="text-muted mr-2">Collections:</small>
            <span class="badge badge-pill badge-primary mr-1" *ngFor="let collection of image.collections">{{collection}}</span>
          </h3>
        </div>
          </div>
    </div>
    <!-- Card image -->
    <div class="view overlay" (click)="addComment(image.id)">
      <img class="card-img-top rounded-0" [defaultImage]="defImage" [lazyLoad]="image.imageUrl" alt="Loading Image...">
      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>
    <div class="card-body d-flex flex-row p-2" (click)="addComment(image.id)">

      <div class="col w-100" *ngIf="(image.comments.length - 1) > 0" align="left">
        <!-- <button type="button" class="btn btn-primary btn-sm pt-0 pb-0">
          Comments <span class="badge badge-light">{{image.comments.length - 1}}</span>
        </button> -->
        <div class="row align-items-center">
        <span class="ml-2">
          {{image.comments.length - 1}}
        </span>
        <span class="material-icons">
          chat
        </span>
        <span class="ml-2 mr-2">
          Recent:
        </span>
        <span class="badge badge-pill badge-success p-1">"{{image.comments[image.comments.length-1].name}} - {{image.comments[image.comments.length-1].comment}}"</span>
      </div>
      </div>

      <!-- <div class="col w-100" *ngIf="(image.comments.length - 1) > 0" align="left">
        <div class="row">
          Click to view {{image.comments.length - 1}} comment(s)
        </div>
        <div class="row">
          Last comment: "{{image.comments[image.comments.length-1].name}} - {{image.comments[image.comments.length-1].comment}}"
        </div>
      </div>
      <div class="col w-100" *ngIf="(image.comments.length - 1) < 1" align="left">
      Click photo to add a comment!
      </div> -->

    </div>
  </div>
    </div>
  </div>


  </div>
  </div>
